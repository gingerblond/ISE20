{"remainingRequest":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyProjects\\ISE20\\hotel\\frontend\\src\\components\\EditReservation.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\src\\components\\EditReservation.vue","mtime":1610305407752},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJFZGl0UmVzZXJ2YXRpb24iLAogIG1ldGhvZHM6IHsKICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoKSB7CiAgICAgIHRoaXMuZm9ybS5yZXNlcnZhdGlvbklEID0gdGhpcy5wYXJlbnREYXRhLnJlc2VydmF0aW9uSUQ7CiAgICAgIHRoaXMuZm9ybS5jdXN0b21lci5jdXN0b21lcklkID0gdGhpcy5wYXJlbnREYXRhLmN1c3RvbWVyLmN1c3RvbWVySWQ7CiAgICAgIHRoaXMuZm9ybS5jdXN0b21lci5maXJzdE5hbWUgPSB0aGlzLnBhcmVudERhdGEuY3VzdG9tZXIuZmlyc3ROYW1lOwogICAgICB0aGlzLmZvcm0uY3VzdG9tZXIubGFzdE5hbWUgPSB0aGlzLnBhcmVudERhdGEuY3VzdG9tZXIubGFzdE5hbWU7CiAgICAgIHRoaXMuZm9ybS5jdXN0b21lci5pZENhcmQgPSB0aGlzLnBhcmVudERhdGEuY3VzdG9tZXIuaWRDYXJkOwogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldFJvb21zLyIuY29uY2F0KHRoaXMuc2VsZWN0ZWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5yb29tc0xpc3QgPSByZXMuZGF0YTsKCiAgICAgICAgaWYgKF90aGlzLnJvb21zTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpcy5mb3JtLnJvb20ucm9vbUlEID0gX3RoaXMucm9vbXNMaXN0WzBdLnJvb21JRDsKICAgICAgICAgIF90aGlzLmZvcm0ucm9vbS50eXBlID0gX3RoaXMucm9vbXNMaXN0WzBdLnR5cGU7CiAgICAgICAgICBfdGhpcy5mb3JtLnJvb20uYXZhaWxhYmxlID0gX3RoaXMucm9vbXNMaXN0WzBdLmF2YWlsYWJsZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMubm90ZSA9ICJDdXJyZW50bHkgbm8gYXZhaWxhYmxlIHJvb21zIG9mIHR5cGU6IjsKICAgICAgICB9CgogICAgICAgIHN3aXRjaCAoX3RoaXMuc2VsZWN0ZWQpIHsKICAgICAgICAgIGNhc2UgIlNJTkdMRV9ST09NIjoKICAgICAgICAgICAgewogICAgICAgICAgICAgIF90aGlzLnNpbmdsZVByaWNlID0gNzA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlICJET1VCTEVfUk9PTSI6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBfdGhpcy5zaW5nbGVQcmljZSA9IDkwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAiQVBBUlRNRU5UIjoKICAgICAgICAgICAgewogICAgICAgICAgICAgIF90aGlzLnNpbmdsZVByaWNlID0gMTMwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAiSE9ORVlNT09OX1NXRUVUIjoKICAgICAgICAgICAgewogICAgICAgICAgICAgIF90aGlzLnNpbmdsZVByaWNlID0gMTEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjYWxjdWxhdGVQcmljZTogZnVuY3Rpb24gY2FsY3VsYXRlUHJpY2UoKSB7CiAgICAgIHRoaXMuZm9ybS5wcmljZSA9IHRoaXMuc2luZ2xlUHJpY2UgKiB0aGlzLmZvcm0uZHVyYXRpb247IC8vdGhpcy50b3RhbFByaWNlID0gdGhpcy5mb3JtLnByaWNlICogdGhpcy5mb3JtLmR1cmF0aW9uOwoKICAgICAgdGhpcy5zaG93Q2FsYyA9IHRydWU7CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdGhpcy5mb3JtLnByaWNlID0gdGhpcy5zaW5nbGVQcmljZSAqIHRoaXMuZm9ybS5kdXJhdGlvbjsKICAgICAgdGhpcy5zZXREYXRhKCk7CiAgICAgIGF4aW9zLnB1dCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL3VwZGF0ZVJlc2VydmF0aW9uIiwgdGhpcy5mb3JtKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgcmVzZXJ2YXRpb25JRDogbnVsbCwKICAgICAgICBwcmljZTogbnVsbCwKICAgICAgICBkYXRlOiBudWxsLAogICAgICAgIGR1cmF0aW9uOiBudWxsLAogICAgICAgIGN1c3RvbWVyOiB7CiAgICAgICAgICBjdXN0b21lcklkOiBudWxsLAogICAgICAgICAgZmlyc3ROYW1lOiBudWxsLAogICAgICAgICAgbGFzdE5hbWU6IG51bGwsCiAgICAgICAgICBpZENhcmQ6IG51bGwKICAgICAgICB9LAogICAgICAgIHJvb206IHsKICAgICAgICAgIHJvb21JRDogbnVsbCwKICAgICAgICAgIGF2YWlsYWJsZTogdHJ1ZSwKICAgICAgICAgIHR5cGU6IG51bGwKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJvb21zTGlzdDogW10sCiAgICAgIHNlbGVjdGVkOiBudWxsLAogICAgICBvcHRpb25zOiBbewogICAgICAgIHRleHQ6ICdDaG9vc2Ugcm9vbSB0eXBlJywKICAgICAgICB2YWx1ZTogbnVsbAogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1NpbmdsZSByb29tJywKICAgICAgICB2YWx1ZTogJ1NJTkdMRV9ST09NJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0RvdWJsZSByb29tJywKICAgICAgICB2YWx1ZTogJ0RPVUJMRV9ST09NJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FwYXJ0bWVudCcsCiAgICAgICAgdmFsdWU6ICdBUEFSVE1FTlQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnSG9uZXltb29uIFN3ZWV0JywKICAgICAgICB2YWx1ZTogJ0hPTkVZTU9PTl9TV0VFVCcKICAgICAgfV0sCiAgICAgIHNpbmdsZVByaWNlOiBudWxsLAogICAgICBzaG93Q2FsYzogZmFsc2UKICAgIH07CiAgfSwKICBwcm9wczogewogICAgcGFyZW50RGF0YTogewogICAgICBwcmljZTogbnVsbCwKICAgICAgZGF0ZTogbnVsbCwKICAgICAgZHVyYXRpb246IG51bGwsCiAgICAgIGN1c3RvbWVyOiB7CiAgICAgICAgY3VzdG9tZXJJZDogbnVsbCwKICAgICAgICBmaXJzdE5hbWU6IG51bGwsCiAgICAgICAgbGFzdE5hbWU6IG51bGwsCiAgICAgICAgaWRDYXJkOiBudWxsCiAgICAgIH0sCiAgICAgIHJvb206IHsKICAgICAgICByb29tSUQ6IG51bGwsCiAgICAgICAgYXZhaWxhYmxlOiB0cnVlLAogICAgICAgIHR5cGU6IG51bGwKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["EditReservation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n  <b-form v-on:submit.prevent=\"submitForm\">\r\n    <div class=\"form-group\">\r\n      <label for=\"roomType\">Room Type</label>\r\n      <b-form-select id=\"roomType\" v-model=\"selected\" v-on:change=\"onChange()\"\r\n                     :options=\"options\">\r\n      </b-form-select>\r\n    </div>\r\n    <div class=\"mt-3\">Selected: {{ selected }}. Price per Night ${{ singlePrice }}</div>\r\n    <div class=\"mt-3\" v-if=\"roomsList.length===0 && selected\" style=\"color: crimson\">NO {{ selected }}s available right\r\n      now! Please choose another type of room!\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"date\">Date</label>\r\n      <input type=\"date\" class=\"form-control\" id=\"date\" placeholder=\"Please put date\" v-model=\"form.date\" required>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"duration\">Duration</label>\r\n      <input type=\"number\" class=\"form-control\" id=\"duration\" placeholder=\"Please choose how long will be your stay\"\r\n             v-model=\"form.duration\" required>\r\n    </div>\r\n\r\n    <div>\r\n      <button class=\"btn btn-outline-info\" type=\"button\" v-on:click=\"calculatePrice\" style=\"margin-top: 5px\">Calculate\r\n        Total Price\r\n      </button>\r\n    </div>\r\n\r\n    <b-card v-if=\"showCalc\" style=\"margin-top: 10px\">\r\n      <b-row>\r\n        <b-col><strong>You want to make following reservation:</strong></b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col><strong>Date: </strong> {{ form.date }}</b-col>\r\n        <b-col><strong>Room type: </strong> {{ form.room.type }}</b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col><strong>Price per night: </strong> ${{ singlePrice }}</b-col>\r\n        <b-col><strong>Duration: </strong> {{ form.duration }} nights</b-col>\r\n      </b-row>\r\n      <b-row>\r\n        <b-col><strong>Total price: </strong> ${{ form.price }}</b-col>\r\n      </b-row>\r\n    </b-card>\r\n\r\n    <div class=\"form-group\">\r\n      <button class=\"btn btn-info\" style=\"margin-top: 10px\">Update reservation</button>\r\n    </div>\r\n  </b-form>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: \"EditReservation\",\r\n  methods: {\r\n    setData() {\r\n      this.form.reservationID = this.parentData.reservationID;\r\n      this.form.customer.customerId = this.parentData.customer.customerId;\r\n      this.form.customer.firstName = this.parentData.customer.firstName;\r\n      this.form.customer.lastName = this.parentData.customer.lastName;\r\n      this.form.customer.idCard = this.parentData.customer.idCard;\r\n\r\n    },\r\n    onChange() {\r\n      axios.get(`http://localhost:8000/getRooms/${this.selected}`).then(\r\n          (res) => {\r\n            this.roomsList = res.data;\r\n            if (this.roomsList.length > 0) {\r\n              this.form.room.roomID = this.roomsList[0].roomID;\r\n              this.form.room.type = this.roomsList[0].type;\r\n              this.form.room.available = this.roomsList[0].available;\r\n            } else {\r\n              this.note = \"Currently no available rooms of type:\"\r\n            }\r\n            switch (this.selected) {\r\n              case \"SINGLE_ROOM\": {\r\n                this.singlePrice = 70;\r\n                break;\r\n              }\r\n              case \"DOUBLE_ROOM\": {\r\n                this.singlePrice = 90;\r\n                break;\r\n              }\r\n              case \"APARTMENT\": {\r\n                this.singlePrice = 130;\r\n                break;\r\n              }\r\n              case \"HONEYMOON_SWEET\": {\r\n                this.singlePrice = 110;\r\n                break;\r\n              }\r\n              default:\r\n                break;\r\n            }\r\n          })\r\n    },\r\n    calculatePrice() {\r\n      this.form.price = this.singlePrice * this.form.duration;\r\n      //this.totalPrice = this.form.price * this.form.duration;\r\n      this.showCalc = true;\r\n    },\r\n    submitForm(){\r\n      this.form.price = this.singlePrice* this.form.duration;\r\n      this.setData();\r\n      axios.put(\"http://localhost:8000/updateReservation\", this.form);\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      form: {\r\n        reservationID: null,\r\n        price: null,\r\n        date: null,\r\n        duration: null,\r\n        customer: {\r\n          customerId: null,\r\n          firstName: null,\r\n          lastName: null,\r\n          idCard: null\r\n        },\r\n        room: {\r\n          roomID: null,\r\n          available: true,\r\n          type: null\r\n        }\r\n      },\r\n      roomsList: [],\r\n      selected: null,\r\n      options: [{text: 'Choose room type', value: null}, {\r\n        text: 'Single room',\r\n        value: 'SINGLE_ROOM'\r\n      }, {text: 'Double room', value: 'DOUBLE_ROOM'},\r\n        {text: 'Apartment', value: 'APARTMENT'}, {text: 'Honeymoon Sweet', value: 'HONEYMOON_SWEET'}],\r\n      singlePrice: null,\r\n      showCalc: false\r\n    };\r\n  },\r\n  props: {\r\n    parentData: {\r\n      price: null,\r\n      date: null,\r\n      duration: null,\r\n      customer: {\r\n        customerId: null,\r\n        firstName: null,\r\n        lastName: null,\r\n        idCard: null\r\n      },\r\n      room: {\r\n        roomID: null,\r\n        available: true,\r\n        type: null\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/components"}]}