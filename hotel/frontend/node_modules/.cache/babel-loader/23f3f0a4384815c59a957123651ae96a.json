{"remainingRequest":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\src\\components\\ManageReservation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\src\\components\\ManageReservation.vue","mtime":1610313869716},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610313755472},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1610313727092},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610313755472},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1610313859415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEVkaXRSZXNlcnZhdGlvbiBmcm9tICIuL0VkaXRSZXNlcnZhdGlvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTWFuYWdlUmVzZXJ2YXRpb24iLAogIGNvbXBvbmVudHM6IHsKICAgIEVkaXRSZXNlcnZhdGlvbjogRWRpdFJlc2VydmF0aW9uCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRSZXNlcnZhdGlvbjogZnVuY3Rpb24gZ2V0UmVzZXJ2YXRpb24oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnNob3dUYWJsZSA9IHRydWU7CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldFJlc2VydmF0aW9uc0J5Q3VzdG9tZXIvIi5jb25jYXQodGhpcy5mb3JtLmN1c3RvbWVySUQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5yZXNlcnZhdGlvbnMgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZWRpdFJlc2VydmF0aW9uOiBmdW5jdGlvbiBlZGl0UmVzZXJ2YXRpb24oaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnNob3dGb3JtID0gdHJ1ZTsKICAgICAgdGhpcy5yZXNJZCA9IGlkOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRSZXNlcnZhdGlvbi8iLmNvbmNhdChpZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5lZGl0UmVzID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVJlc2VydmF0aW9uOiBmdW5jdGlvbiBkZWxldGVSZXNlcnZhdGlvbihpZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuc2hvd0Zvcm0gPSBmYWxzZTsKICAgICAgYXhpb3MuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjgwMDAvZGVsZXRlUmVzZXJ2YXRpb24vIi5jb25jYXQoaWQpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuZGVsZXRlUmVzID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgICB0aGlzLmdldFJlc2VydmF0aW9uKCk7CiAgICB9LAogICAgZ2V0QWxsOiBmdW5jdGlvbiBnZXRBbGwoKSB7fQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBjdXN0b21lcklEOiBudWxsCiAgICAgIH0sCiAgICAgIGRlbGV0ZVJlczogbnVsbCwKICAgICAgcmVzZXJ2YXRpb25zOiBbewogICAgICAgIHJlc2VydmF0aW9uSUQ6IG51bGwsCiAgICAgICAgcHJpY2U6IG51bGwsCiAgICAgICAgZGF0ZTogbnVsbCwKICAgICAgICBkdXJhdGlvbjogbnVsbCwKICAgICAgICBjdXN0b21lcjogewogICAgICAgICAgY3VzdG9tZXJJZDogbnVsbCwKICAgICAgICAgIGZpcnN0TmFtZTogbnVsbCwKICAgICAgICAgIGxhc3ROYW1lOiBudWxsLAogICAgICAgICAgaWRDYXJkOiBudWxsCiAgICAgICAgfSwKICAgICAgICByb29tOiB7CiAgICAgICAgICByb29tSUQ6IG51bGwsCiAgICAgICAgICBhdmFpbGFibGU6IHRydWUsCiAgICAgICAgICB0eXBlOiBudWxsCiAgICAgICAgfQogICAgICB9XSwKICAgICAgcmVzSWQ6IG51bGwsCiAgICAgIGVkaXRSZXM6IG51bGwsCiAgICAgIHNob3dGb3JtOiBmYWxzZSwKICAgICAgc2hvd1RhYmxlOiBmYWxzZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["ManageReservation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,eAAA,MAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,eAAA,EAAA;AAAA,GAFA;AAGA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,KAAA,CAAA,GAAA,2DAAA,KAAA,IAAA,CAAA,UAAA,GAAA,IAAA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAHA;AAKA,KARA;AASA,IAAA,eATA,2BASA,EATA,EASA;AAAA;;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,KAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,GAAA,gDAAA,EAAA,GAAA,IAAA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAHA;AAKA,KAjBA;AAkBA,IAAA,iBAlBA,6BAkBA,EAlBA,EAkBA;AAAA;;AACA,WAAA,QAAA,GAAA,KAAA;AACA,MAAA,KAAA,CAAA,MAAA,mDAAA,EAAA,GAAA,IAAA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAHA;AAKA,WAAA,cAAA;AACA,KA1BA;AA2BA,IAAA,MA3BA,oBA2BA,CACA;AA5BA,GAHA;AAiCA,EAAA,IAjCA,kBAiCA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,UAAA,EAAA;AADA,OADA;AAIA,MAAA,SAAA,EAAA,IAJA;AAKA,MAAA,YAAA,EAAA,CAAA;AACA,QAAA,aAAA,EAAA,IADA;AAEA,QAAA,KAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA,IAHA;AAIA,QAAA,QAAA,EAAA,IAJA;AAKA,QAAA,QAAA,EAAA;AACA,UAAA,UAAA,EAAA,IADA;AAEA,UAAA,SAAA,EAAA,IAFA;AAGA,UAAA,QAAA,EAAA,IAHA;AAIA,UAAA,MAAA,EAAA;AAJA,SALA;AAWA,QAAA,IAAA,EAAA;AACA,UAAA,MAAA,EAAA,IADA;AAEA,UAAA,SAAA,EAAA,IAFA;AAGA,UAAA,IAAA,EAAA;AAHA;AAXA,OAAA,CALA;AAuBA,MAAA,KAAA,EAAA,IAvBA;AAwBA,MAAA,OAAA,EAAA,IAxBA;AAyBA,MAAA,QAAA,EAAA,KAzBA;AA0BA,MAAA,SAAA,EAAA;AA1BA,KAAA;AA4BA;AA9DA,CAAA","sourcesContent":["<template>\r\n  <b-container fluid=\"sm\">\r\n    <h1> Manage reservations</h1>\r\n    <b-form id=\"app\" v-on:submit.prevent=\"getReservation\">\r\n      <div class=\"form-group\">\r\n        <label for=\"reservationID\">Customer ID:</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"reservationID\" placeholder=\"Please provide your CustomerID\"\r\n               v-model=\"form.customerID\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <button class=\"btn btn-info\" style=\"margin-top: 10px\">View Reservations List</button>\r\n      </div>\r\n    </b-form>\r\n    <table v-if=\"reservations.length>0 && showTable\">\r\n      <tr>\r\n        <th> Reservation ID</th>\r\n        <th> Start Date</th>\r\n        <th> Duration</th>\r\n        <th> Total Price</th>\r\n        <th> Customer Name</th>\r\n        <th> Room Type</th>\r\n        <th> Manage Reservation</th>\r\n      </tr>\r\n      <tr v-for=\"res in reservations\" :key=\"res.date\">\r\n        <td> {{ res.reservationID }}</td>\r\n        <td> {{ res.date }}</td>\r\n        <td> {{ res.duration }}</td>\r\n        <td> ${{ res.price }}</td>\r\n        <td> {{ res.customer.firstName }} {{ res.customer.lastName }}</td>\r\n        <td> {{ res.room.type }}</td>\r\n        <td>\r\n          <button class=\"btn-outline-info\" v-on:click=\"deleteReservation(res.reservationID)\">Delete</button>\r\n          <button class=\"btn-outline-info\" v-on:click=\"editReservation(res.reservationID)\">Edit</button>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <div>{{deleteRes}}</div>\r\n    <div v-if=\"reservations.length==0\"> No reservations for customer with ID: {{ form.customerID }}</div>\r\n    <div  style=\"font-weight: bold;font-size: large;margin-top: 10px\" v-if=\"showForm\"> Edit reservation with ID: {{resId}}</div>\r\n    <edit-reservation :parent-data=\"$data.editRes\" v-if=\"showForm\"></edit-reservation>\r\n  </b-container>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport EditReservation from \"./EditReservation\";\r\n\r\nexport default {\r\n  name: \"ManageReservation\",\r\n  components: {EditReservation},\r\n  methods: {\r\n    getReservation() {\r\n      this.showTable=true;\r\n      axios.get(`http://localhost:8000/getReservationsByCustomer/${this.form.customerID}`).then(\r\n          (res) => {\r\n            this.reservations = res.data;\r\n           }\r\n      )\r\n    },\r\n    editReservation(id) {\r\n      this.showForm = true;\r\n      this.resId =id;\r\n      axios.get(`http://localhost:8000/getReservation/${id}`).then(\r\n          (res) =>{\r\n            this.editRes = res.data;\r\n          }\r\n      )\r\n    } ,\r\n    deleteReservation(id) {\r\n      this.showForm = false;\r\n      axios.delete(`http://localhost:8000/deleteReservation/${id}`).then(\r\n          (res) => {\r\n            this.deleteRes = res.data;\r\n          }\r\n      )\r\n      this.getReservation();\r\n    },\r\n    getAll() {\r\n    }\r\n  },\r\n    data() {\r\n      return {\r\n        form: {\r\n          customerID: null\r\n        },\r\n        deleteRes: null,\r\n        reservations: [{\r\n          reservationID: null,\r\n          price: null,\r\n          date: null,\r\n          duration: null,\r\n          customer: {\r\n            customerId: null,\r\n            firstName: null,\r\n            lastName: null,\r\n            idCard: null\r\n          },\r\n          room: {\r\n            roomID: null,\r\n            available: true,\r\n            type: null\r\n          }\r\n        }\r\n        ],\r\n        resId:null,\r\n        editRes: null,\r\n        showForm: false,\r\n        showTable: false,\r\n      };\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-weight: bold;\r\n  font-size: xx-large;\r\n  color: #2c3e50;\r\n}\r\n\r\ntable, th, td {\r\n  border: 1px solid black;\r\n  border-collapse: collapse;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}