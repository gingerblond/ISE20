{"remainingRequest":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyProjects\\ISE20\\hotel\\frontend\\src\\components\\ReservationForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\src\\components\\ReservationForm.vue","mtime":1610153785881},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXNlcnZhdGlvbkZvcm0iLAogIHByb3BzOiB7CiAgICBtc2c6IFN0cmluZwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDo4MDkwL2FkZFJlc2VydmF0aW9uJywgdGhpcy5mb3JtKTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA5MC9nZXRSb29tcy8iLmNvbmNhdCh0aGlzLnNlbGVjdGVkKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMucm9vbXNMaXN0ID0gcmVzLmRhdGE7CgogICAgICAgIGlmIChfdGhpcy5yb29tc0xpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgX3RoaXMuZm9ybS5yb29tLnJvb21JRCA9IF90aGlzLnJvb21zTGlzdFswXS5yb29tSUQ7CiAgICAgICAgICBfdGhpcy5mb3JtLnJvb20udHlwZSA9IF90aGlzLnJvb21zTGlzdFswXS50eXBlOwogICAgICAgICAgX3RoaXMuZm9ybS5yb29tLmF2YWlsYWJsZSA9IF90aGlzLnJvb21zTGlzdFswXS5hdmFpbGFibGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLm5vdGUgPSAiQ3VycmVudGx5IG5vIGF2YWlsYWJsZSByb29tcyBvZiB0eXBlOiI7CiAgICAgICAgfQoKICAgICAgICBzd2l0Y2ggKF90aGlzLnNlbGVjdGVkKSB7CiAgICAgICAgICBjYXNlICJTSU5HTEVfUk9PTSI6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBfdGhpcy5mb3JtLnByaWNlID0gNzA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlICJET1VCTEVfUk9PTSI6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBfdGhpcy5mb3JtLnByaWNlID0gOTA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlICJBUEFSVE1FTlQiOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgX3RoaXMuZm9ybS5wcmljZSA9IDEzMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgIkhPTkVZTU9PTl9TV0VFVCI6CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBfdGhpcy5mb3JtLnByaWNlID0gMTEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDkwL2dldFJvb21zLyIuY29uY2F0KHRoaXMuc2VsZWN0ZWQpLCB7CiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgIH0KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpczIucm9vbXNMaXN0ID0gcmVzLmRhdGE7CiAgICB9KTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgcHJpY2U6IG51bGwsCiAgICAgICAgZGF0ZTogbnVsbCwKICAgICAgICBjdXN0b21lcjogewogICAgICAgICAgZmlyc3ROYW1lOiBudWxsLAogICAgICAgICAgbGFzdE5hbWU6IG51bGwsCiAgICAgICAgICBpZENhcmQ6IG51bGwKICAgICAgICB9LAogICAgICAgIHJvb206IHsKICAgICAgICAgIHJvb21JRDogbnVsbCwKICAgICAgICAgIGF2YWlsYWJsZTogdHJ1ZSwKICAgICAgICAgIHR5cGU6IG51bGwKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG5vdGU6IG51bGwsCiAgICAgIHJvb21zTGlzdDogW10sCiAgICAgIHNlbGVjdGVkOiBudWxsLAogICAgICBvcHRpb25zOiBbewogICAgICAgIHRleHQ6ICdDaG9vc2Ugcm9vbSB0eXBlJywKICAgICAgICB2YWx1ZTogbnVsbAogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1NpbmdsZSByb29tJywKICAgICAgICB2YWx1ZTogJ1NJTkdMRV9ST09NJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0RvdWJsZSByb29tJywKICAgICAgICB2YWx1ZTogJ0RPVUJMRV9ST09NJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FwYXJ0bWVudCcsCiAgICAgICAgdmFsdWU6ICdBUEFSVE1FTlQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnSG9uZXltb29uIFN3ZWV0JywKICAgICAgICB2YWx1ZTogJ0hPTkVZTU9PTl9TV0VFVCcKICAgICAgfV0sCiAgICAgIGVycm9yczogW10KICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["ReservationForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n  <b-container fluid=\"sm\">\r\n    <h1> New Reservation</h1>\r\n    <b-form id=\"app\" v-on:submit.prevent=\"submitForm\" >\r\n      <div style=\"font-weight: bold\"> Please fill in your personal data (*All fileds are required) :</div>\r\n      <div class=\"form-group\">\r\n        <label for=\"idCard\">ID Card</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"idCard\" placeholder=\"Please put your ID Card Number\"\r\n               v-model=\"form.customer.idCard\" required>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"firstName\">First Name</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"firstName\" placeholder=\"Please put your First Name\"\r\n               v-model=\"form.customer.firstName\" required>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"lastName\">Last Name</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"lastName\" placeholder=\"Please put your Last Name\"\r\n               v-model=\"form.customer.lastName\" required>\r\n      </div>\r\n      <div style=\"font-weight: bold\"> Please choose your room preferences and date :</div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"roomType\">Room Type</label>\r\n        <b-form-select id=\"roomType\" v-model=\"selected\" v-on:change=\"onChange()\"\r\n                       :options=\"options\">\r\n        </b-form-select>\r\n      </div>\r\n      <div class=\"mt-3\" v-if=\"selected\">Selected: {{ selected }}. Price per Night ${{form.price}} </div>\r\n      <div class=\"mt-3\" v-if=\"roomsList.length===0 && selected\" style=\"color: crimson\">NO {{ selected }}s available right now! Please choose another type of room! </div>\r\n\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"date\">Date</label>\r\n        <input type=\"date\" class=\"form-control\" id=\"date\" placeholder=\"Please put date\" v-model=\"form.date\" required>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <button class=\"btn btn-info\">Submit</button>\r\n      </div>\r\n\r\n    </b-form>\r\n    <p v-if=\"errors.length\">\r\n      <b>Please correct the following error(s):</b>\r\n    <ul>\r\n      <li v-for=\"error in errors\" v-bind:key=\"error.value\" >{{ error }} </li>\r\n    </ul>\r\n\r\n\r\n    <div>{{ roomsList }}</div>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: \"ReservationForm\",\r\n  props: {\r\n    msg: String\r\n  },\r\n  methods: {\r\n    submitForm() {\r\n      axios.post('http://localhost:8090/addReservation', this.form)\r\n\r\n    },\r\n    onChange() {\r\n      axios.get(`http://localhost:8090/getRooms/${this.selected}`).then(\r\n          (res) => {\r\n            this.roomsList = res.data;\r\n            if(this.roomsList.length>0) {\r\n              this.form.room.roomID = this.roomsList[0].roomID;\r\n              this.form.room.type = this.roomsList[0].type;\r\n              this.form.room.available = this.roomsList[0].available;\r\n            }\r\n            else{\r\n              this.note = \"Currently no available rooms of type:\"\r\n            }\r\n            switch(this.selected){\r\n              case \"SINGLE_ROOM\": {\r\n                this.form.price = 70;\r\n                break;\r\n              }\r\n              case \"DOUBLE_ROOM\": {\r\n                this.form.price = 90;\r\n                break;\r\n              }\r\n              case \"APARTMENT\": {\r\n                this.form.price = 130;\r\n                break;\r\n              }\r\n              case \"HONEYMOON_SWEET\": {\r\n                this.form.price = 110;\r\n                break;\r\n              }\r\n              default:\r\n                break;\r\n            }\r\n          })\r\n    }\r\n  },\r\n  beforeMount() {\r\n    axios.get(`http://localhost:8090/getRooms/${this.selected}`,{headers: {'Content-Type': 'application/json'}}).then(\r\n        (res) => {\r\n          this.roomsList = res.data;\r\n        })\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        price: null,\r\n        date: null,\r\n        customer: {\r\n          firstName: null,\r\n          lastName: null,\r\n          idCard: null\r\n        },\r\n        room: {\r\n          roomID: null,\r\n          available: true,\r\n          type: null\r\n        }\r\n      },\r\n      note: null,\r\n      roomsList: [],\r\n      selected: null,\r\n      options: [{text: 'Choose room type', value: null}, {text: 'Single room', value: 'SINGLE_ROOM'}, {text: 'Double room', value: 'DOUBLE_ROOM'},\r\n        {text: 'Apartment', value: 'APARTMENT'}, {text: 'Honeymoon Sweet', value: 'HONEYMOON_SWEET'}],\r\n      errors:[]\r\n\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-weight: bold;\r\n  font-size: x-large;\r\n  color: #2c3e50;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}