{"remainingRequest":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyProjects\\ISE20\\hotel\\frontend\\src\\components\\ReservationForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\src\\components\\ReservationForm.vue","mtime":1610225240696},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyProjects\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJSZXNlcnZhdGlvbkZvcm0iLA0KICBwcm9wczogew0KICAgIG1zZzogU3RyaW5nDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBvbGRDdXN0b21lcigpIHsNCiAgICAgIHRoaXMub2xkQz10cnVlOw0KICAgICAgdGhpcy5uZXdDID0gZmFsc2U7DQogICAgfSwNCiAgICBuZXdDdXN0b21lcigpIHsNCiAgICAgIHRoaXMub2xkQz1mYWxzZTsNCiAgICAgIHRoaXMubmV3QyA9IHRydWU7DQogICAgfSwNCiAgICBnZXRDdXN0b21lcigpIHsNCiAgICAgIGF4aW9zLmdldCggYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9jdXN0b21lckJ5SWQvJHt0aGlzLmZvcm0uY3VzdG9tZXIuY3VzdG9tZXJJZH1gKS50aGVuKA0KICAgICAgICAgIChyZXMpPT57DQogICAgICAgICAgICB0aGlzLnN1Y2Nlc3NDdXN0b21lcj10cnVlOw0KICAgICAgICAgICAgdGhpcy5jdXNSZXM9cmVzLmRhdGE7DQogICAgICAgICAgICB0aGlzLmZvcm0uY3VzdG9tZXIuZmlyc3ROYW1lPXJlcy5kYXRhLmZpcnN0TmFtZTsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5jdXN0b21lci5sYXN0TmFtZT1yZXMuZGF0YS5sYXN0TmFtZTsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5jdXN0b21lci5pZENhcmQ9cmVzLmRhdGEuaWRDYXJkOw0KICAgICAgICAgIH0NCiAgICAgICkNCiAgICB9LA0KICAgIGNhbGN1bGF0ZVByaWNlKCkgew0KICAgICAgdGhpcy50b3RhbFByaWNlID0gdGhpcy5mb3JtLnByaWNlICogdGhpcy5mb3JtLmR1cmF0aW9uOw0KICAgICAgdGhpcy5zaG93Q2FsYz10cnVlOw0KICAgIH0sDQogICAgc3VibWl0Rm9ybSgpIHsNCiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hZGRSZXNlcnZhdGlvbicsIHRoaXMuZm9ybSkudGhlbigNCiAgICAgICAgICAocmVzKT0+IHsNCiAgICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXMuZGF0YTsNCiAgICAgICAgICAgIHRoaXMucmVzZXJ2YXRpb25JRCA9IHRoaXMucmVzcG9uc2UucmVzZXJ2YXRpb25JRDsNCiAgICAgICAgICAgIHRoaXMuc2hvd1N1Y2Nlc3MgPSB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICkNCg0KICAgIH0sDQogICAgb25DaGFuZ2UoKSB7DQogICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRSb29tcy8ke3RoaXMuc2VsZWN0ZWR9YCkudGhlbigNCiAgICAgICAgICAocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLnJvb21zTGlzdCA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgaWYodGhpcy5yb29tc0xpc3QubGVuZ3RoPjApIHsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtLnJvb20ucm9vbUlEID0gdGhpcy5yb29tc0xpc3RbMF0ucm9vbUlEOw0KICAgICAgICAgICAgICB0aGlzLmZvcm0ucm9vbS50eXBlID0gdGhpcy5yb29tc0xpc3RbMF0udHlwZTsNCiAgICAgICAgICAgICAgdGhpcy5mb3JtLnJvb20uYXZhaWxhYmxlID0gdGhpcy5yb29tc0xpc3RbMF0uYXZhaWxhYmxlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgdGhpcy5ub3RlID0gIkN1cnJlbnRseSBubyBhdmFpbGFibGUgcm9vbXMgb2YgdHlwZToiDQogICAgICAgICAgICB9DQogICAgICAgICAgICBzd2l0Y2godGhpcy5zZWxlY3RlZCl7DQogICAgICAgICAgICAgIGNhc2UgIlNJTkdMRV9ST09NIjogew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5wcmljZSA9IDcwOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGNhc2UgIkRPVUJMRV9ST09NIjogew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5wcmljZSA9IDkwOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIGNhc2UgIkFQQVJUTUVOVCI6IHsNCiAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucHJpY2UgPSAxMzA7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgY2FzZSAiSE9ORVlNT09OX1NXRUVUIjogew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5wcmljZSA9IDExMDsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgfQ0KICB9LA0KICBiZWZvcmVNb3VudCgpIHsNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybTogew0KICAgICAgICBwcmljZTogbnVsbCwNCiAgICAgICAgZGF0ZTogbnVsbCwNCiAgICAgICAgZHVyYXRpb246IG51bGwsDQogICAgICAgIGN1c3RvbWVyOiB7DQogICAgICAgICAgY3VzdG9tZXJJZDogbnVsbCwNCiAgICAgICAgICBmaXJzdE5hbWU6IG51bGwsDQogICAgICAgICAgbGFzdE5hbWU6IG51bGwsDQogICAgICAgICAgaWRDYXJkOiBudWxsDQogICAgICAgIH0sDQogICAgICAgIHJvb206IHsNCiAgICAgICAgICByb29tSUQ6IG51bGwsDQogICAgICAgICAgYXZhaWxhYmxlOiB0cnVlLA0KICAgICAgICAgIHR5cGU6IG51bGwNCiAgICAgICAgfQ0KICAgICAgfSwNCiAgICAgIG5vdGU6IG51bGwsDQogICAgICByb29tc0xpc3Q6IFtdLA0KICAgICAgc2VsZWN0ZWQ6IG51bGwsDQogICAgICBvcHRpb25zOiBbe3RleHQ6ICdDaG9vc2Ugcm9vbSB0eXBlJywgdmFsdWU6IG51bGx9LCB7dGV4dDogJ1NpbmdsZSByb29tJywgdmFsdWU6ICdTSU5HTEVfUk9PTSd9LCB7dGV4dDogJ0RvdWJsZSByb29tJywgdmFsdWU6ICdET1VCTEVfUk9PTSd9LA0KICAgICAgICB7dGV4dDogJ0FwYXJ0bWVudCcsIHZhbHVlOiAnQVBBUlRNRU5UJ30sIHt0ZXh0OiAnSG9uZXltb29uIFN3ZWV0JywgdmFsdWU6ICdIT05FWU1PT05fU1dFRVQnfV0sDQogICAgICByZXNlcnZhdGlvbklEOiBudWxsLA0KICAgICAgcmVzcG9uc2U6IG51bGwsDQogICAgICB0b3RhbFByaWNlOiBudWxsLA0KICAgICAgc2hvd0NhbGM6IGZhbHNlLA0KICAgICAgc2hvd1N1Y2Nlc3M6IGZhbHNlLA0KICAgICAgb2xkQzogZmFsc2UsDQogICAgICBuZXdDOiBmYWxzZSwNCiAgICAgIGN1c1JlczogbnVsbCwNCiAgICAgIHN1Y2Nlc3NDdXN0b21lcjogZmFsc2UNCiAgICB9Ow0KICB9DQp9DQo="},{"version":3,"sources":["ReservationForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReservationForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\r\n  <b-container fluid=\"sm\">\r\n    <h1> New Reservation</h1>\r\n    <b-form id=\"app\" v-on:submit.prevent=\"submitForm\" >\r\n      <div style=\"font-weight: bold\"> Please fill in your personal data (*All fileds are required) :</div>\r\n      <b-row>\r\n        <div >\r\n          <button class=\"btn btn-outline-info\"  type=\"button\" @click=\"newCustomer\" style=\"margin-top: 5px\">New Customer</button>\r\n        </div>\r\n        <div >\r\n          <button class=\"btn btn-outline-info\"  type=\"button\" @click=\"oldCustomer\" style=\"margin-top: 5px; margin-left: 10px\">Registered Customer</button>\r\n        </div>\r\n      </b-row>\r\n      <div class=\"form-group\" v-if=\"newC\">\r\n        <label for=\"idCard\">ID Card</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"idCard\" placeholder=\"Please put your ID Card Number\"\r\n               v-model=\"form.customer.idCard\" required>\r\n      </div>\r\n\r\n      <div class=\"form-group\" v-if=\"newC\">\r\n        <label for=\"firstName\">First Name</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"firstName\" placeholder=\"Please put your First Name\"\r\n               v-model=\"form.customer.firstName\" required>\r\n      </div>\r\n\r\n      <div class=\"form-group\" v-if=\"newC\">\r\n        <label for=\"lastName\">Last Name</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"lastName\" placeholder=\"Please put your Last Name\"\r\n                required>\r\n      </div>\r\n\r\n      <div class=\"form-group\" v-if=\"oldC\">\r\n        <label for=\"cusId\">Customer Id</label>\r\n        <input type=\"text\" id=\"cusId\" class=\"form-control\" placeholder=\"Please put your Customer ID\"\r\n               v-model=\"form.customer.customerId\" required>\r\n      </div>\r\n\r\n      <div v-if=\"oldC\" >\r\n        <button class=\"btn btn-outline-info\"  type=\"button\" @click=\"getCustomer\" style=\"margin-top: 5px\">Verify Customer</button>\r\n      </div>\r\n      <b-alert variant=\"success\" show v-if=\"successCustomer\"> Customer with ID: <strong>{{form.customer.customerId}}</strong>\r\n        was successfully found!\r\n      </b-alert>\r\n\r\n    <div>CUSTOMER: {{cusRes}}</div>\r\n      <div style=\"font-weight: bold\"> Please choose your room preferences and date :</div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"roomType\">Room Type</label>\r\n        <b-form-select id=\"roomType\" v-model=\"selected\" v-on:change=\"onChange()\"\r\n                       :options=\"options\">\r\n        </b-form-select>\r\n      </div>\r\n      <div class=\"mt-3\" v-if=\"selected\">Selected: {{ selected }}. Price per Night ${{form.price}} </div>\r\n      <div class=\"mt-3\" v-if=\"roomsList.length===0 && selected\" style=\"color: crimson\">NO {{ selected }}s available right now! Please choose another type of room! </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"date\">Date</label>\r\n        <input type=\"date\" class=\"form-control\" id=\"date\" placeholder=\"Please put date\" v-model=\"form.date\" required>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"duration\">Date</label>\r\n        <input type=\"number\" class=\"form-control\" id=\"duration\" placeholder=\"Please choose how long will be your stay\" v-model=\"form.duration\" required>\r\n      </div>\r\n\r\n      <div >\r\n        <button class=\"btn btn-outline-info\"  type=\"button\" @click=\"calculatePrice\" style=\"margin-top: 5px\">Calculate Total Price</button>\r\n      </div>\r\n\r\n      <b-card v-if=\"showCalc\" style=\"margin-top: 10px\">\r\n        <b-row>\r\n          <b-col> <strong>You want to make following reservation:</strong></b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col><strong>Date: </strong> {{ form.date }}</b-col>\r\n          <b-col><strong>Room type: </strong> {{ form.room.type }}</b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col><strong>Price per night: </strong> {{ form.price }}</b-col>\r\n          <b-col><strong>Duration: </strong> {{ form.duration}}</b-col>\r\n        </b-row>\r\n        <b-row>\r\n          <b-col><strong>Total price: </strong> ${{ totalPrice }}</b-col>\r\n         </b-row>\r\n      </b-card>\r\n\r\n      <div class=\"form-group\">\r\n        <button class=\"btn btn-info\" style=\"margin-top: 10px\">Submit</button>\r\n      </div>\r\n\r\n    </b-form>\r\n    <b-alert variant=\"success\" show v-if=\"showSuccess\"> You submitted successfully reservation with ID: <strong>{{reservationID}}</strong>\r\n      Please save this Reservation ID: <strong>{{reservationID}}</strong>, if you want to edit or delete your reservation!\r\n      Please save this Customer ID: <stron>{{this.form.customer.customerId}}</stron>, if you want to see your reservations!\r\n\r\n    </b-alert>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: \"ReservationForm\",\r\n  props: {\r\n    msg: String\r\n  },\r\n  methods: {\r\n    oldCustomer() {\r\n      this.oldC=true;\r\n      this.newC = false;\r\n    },\r\n    newCustomer() {\r\n      this.oldC=false;\r\n      this.newC = true;\r\n    },\r\n    getCustomer() {\r\n      axios.get( `http://localhost:8000/customerById/${this.form.customer.customerId}`).then(\r\n          (res)=>{\r\n            this.successCustomer=true;\r\n            this.cusRes=res.data;\r\n            this.form.customer.firstName=res.data.firstName;\r\n            this.form.customer.lastName=res.data.lastName;\r\n            this.form.customer.idCard=res.data.idCard;\r\n          }\r\n      )\r\n    },\r\n    calculatePrice() {\r\n      this.totalPrice = this.form.price * this.form.duration;\r\n      this.showCalc=true;\r\n    },\r\n    submitForm() {\r\n      axios.post('http://localhost:8000/addReservation', this.form).then(\r\n          (res)=> {\r\n            this.response = res.data;\r\n            this.reservationID = this.response.reservationID;\r\n            this.showSuccess = true;\r\n          }\r\n      )\r\n\r\n    },\r\n    onChange() {\r\n      axios.get(`http://localhost:8000/getRooms/${this.selected}`).then(\r\n          (res) => {\r\n            this.roomsList = res.data;\r\n            if(this.roomsList.length>0) {\r\n              this.form.room.roomID = this.roomsList[0].roomID;\r\n              this.form.room.type = this.roomsList[0].type;\r\n              this.form.room.available = this.roomsList[0].available;\r\n            }\r\n            else{\r\n              this.note = \"Currently no available rooms of type:\"\r\n            }\r\n            switch(this.selected){\r\n              case \"SINGLE_ROOM\": {\r\n                this.form.price = 70;\r\n                break;\r\n              }\r\n              case \"DOUBLE_ROOM\": {\r\n                this.form.price = 90;\r\n                break;\r\n              }\r\n              case \"APARTMENT\": {\r\n                this.form.price = 130;\r\n                break;\r\n              }\r\n              case \"HONEYMOON_SWEET\": {\r\n                this.form.price = 110;\r\n                break;\r\n              }\r\n              default:\r\n                break;\r\n            }\r\n          })\r\n    }\r\n  },\r\n  beforeMount() {\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        price: null,\r\n        date: null,\r\n        duration: null,\r\n        customer: {\r\n          customerId: null,\r\n          firstName: null,\r\n          lastName: null,\r\n          idCard: null\r\n        },\r\n        room: {\r\n          roomID: null,\r\n          available: true,\r\n          type: null\r\n        }\r\n      },\r\n      note: null,\r\n      roomsList: [],\r\n      selected: null,\r\n      options: [{text: 'Choose room type', value: null}, {text: 'Single room', value: 'SINGLE_ROOM'}, {text: 'Double room', value: 'DOUBLE_ROOM'},\r\n        {text: 'Apartment', value: 'APARTMENT'}, {text: 'Honeymoon Sweet', value: 'HONEYMOON_SWEET'}],\r\n      reservationID: null,\r\n      response: null,\r\n      totalPrice: null,\r\n      showCalc: false,\r\n      showSuccess: false,\r\n      oldC: false,\r\n      newC: false,\r\n      cusRes: null,\r\n      successCustomer: false\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-weight: bold;\r\n  font-size: x-large;\r\n  color: #2c3e50;\r\n}\r\n</style>\r\n"]}]}