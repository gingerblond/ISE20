{"remainingRequest":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\src\\components\\ManageReservation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\src\\components\\ManageReservation.vue","mtime":1610323288722},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610313755472},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1610313727092},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610313755472},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1610313859415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KaW1wb3J0IEVkaXRSZXNlcnZhdGlvbiBmcm9tICIuL0VkaXRSZXNlcnZhdGlvbiI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIk1hbmFnZVJlc2VydmF0aW9uIiwNCiAgY29tcG9uZW50czoge0VkaXRSZXNlcnZhdGlvbn0sDQogIG1ldGhvZHM6IHsNCiAgICBnZXRSZXNlcnZhdGlvbigpIHsNCiAgICAgIHRoaXMuc2hvd1RhYmxlPXRydWU7DQogICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRSZXNlcnZhdGlvbnNCeUN1c3RvbWVyLyR7dGhpcy5mb3JtLmN1c3RvbWVySUR9YCkudGhlbigNCiAgICAgICAgICAocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLnJlc2VydmF0aW9ucyA9IHJlcy5kYXRhOw0KICAgICAgICAgICB9DQogICAgICApDQogICAgfSwNCiAgICBlZGl0UmVzZXJ2YXRpb24oaWQpIHsNCiAgICAgIHRoaXMuc2hvd0Zvcm0gPSB0cnVlOw0KICAgICAgdGhpcy5yZXNJZCA9aWQ7DQogICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRSZXNlcnZhdGlvbi8ke2lkfWApLnRoZW4oDQogICAgICAgICAgKHJlcykgPT57DQogICAgICAgICAgICB0aGlzLmVkaXRSZXMgPSByZXMuZGF0YTsNCiAgICAgICAgICB9DQogICAgICApDQogICAgfSAsDQogICAgZGVsZXRlUmVzZXJ2YXRpb24oaWQpIHsNCiAgICAgIHRoaXMuc2hvd0Zvcm0gPSBmYWxzZTsNCiAgICAgIGF4aW9zLmRlbGV0ZShgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2RlbGV0ZVJlc2VydmF0aW9uLyR7aWR9YCkudGhlbigNCiAgICAgICAgICAocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLmRlbGV0ZVJlcyA9IHJlcy5kYXRhOw0KICAgICAgICAgIH0NCiAgICAgICkNCiAgICAgIHRoaXMuZ2V0UmVzZXJ2YXRpb24oKTsNCiAgICB9LA0KICAgIGdldEFsbCgpIHsNCiAgICB9DQogIH0sDQogICAgZGF0YSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGZvcm06IHsNCiAgICAgICAgICBjdXN0b21lcklEOiBudWxsDQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZVJlczogbnVsbCwNCiAgICAgICAgcmVzZXJ2YXRpb25zOiBbew0KICAgICAgICAgIHJlc2VydmF0aW9uSUQ6IG51bGwsDQogICAgICAgICAgcHJpY2U6IG51bGwsDQogICAgICAgICAgZGF0ZTogbnVsbCwNCiAgICAgICAgICBkdXJhdGlvbjogbnVsbCwNCiAgICAgICAgICBjdXN0b21lcjogew0KICAgICAgICAgICAgY3VzdG9tZXJJZDogbnVsbCwNCiAgICAgICAgICAgIGZpcnN0TmFtZTogbnVsbCwNCiAgICAgICAgICAgIGxhc3ROYW1lOiBudWxsLA0KICAgICAgICAgICAgaWRDYXJkOiBudWxsDQogICAgICAgICAgfSwNCiAgICAgICAgICByb29tOiB7DQogICAgICAgICAgICByb29tSUQ6IG51bGwsDQogICAgICAgICAgICBhdmFpbGFibGU6IHRydWUsDQogICAgICAgICAgICB0eXBlOiBudWxsDQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIHJlc0lkOm51bGwsDQogICAgICAgIGVkaXRSZXM6IG51bGwsDQogICAgICAgIHNob3dGb3JtOiBmYWxzZSwNCiAgICAgICAgc2hvd1RhYmxlOiBmYWxzZSwNCiAgICAgIH07DQogICAgfQ0KICB9DQo="},{"version":3,"sources":["ManageReservation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ManageReservation.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <b-container fluid=\"sm\">\r\n    <h1> Manage reservations</h1>\r\n    <b-form id=\"app\" v-on:submit.prevent=\"getReservation\">\r\n      <div class=\"form-group\">\r\n        <label for=\"reservationID\">Customer ID:</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"reservationID\" placeholder=\"Please provide your CustomerID\"\r\n               v-model=\"form.customerID\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <button class=\"btn btn-info\" style=\"margin-top: 10px\">View Reservations List</button>\r\n      </div>\r\n    </b-form>\r\n    <table v-if=\"reservations.length>0 && showTable\">\r\n      <tr>\r\n        <th> Reservation ID</th>\r\n        <th> Start Date</th>\r\n        <th> Duration</th>\r\n        <th> Total Price</th>\r\n        <th> Customer Name</th>\r\n        <th> Room Type</th>\r\n        <th> Manage Reservation</th>\r\n      </tr>\r\n      <tr v-for=\"res in reservations\" :key=\"res.date\">\r\n        <td> {{ res.reservationID }}</td>\r\n        <td> {{ res.date }}</td>\r\n        <td> {{ res.duration }}</td>\r\n        <td> ${{ res.price }}</td>\r\n        <td> {{ res.customer.firstName }} {{ res.customer.lastName }}</td>\r\n        <td> {{ res.room.type }}</td>\r\n        <td>\r\n          <button class=\"btn-outline-info\" v-on:click=\"deleteReservation(res.reservationID)\">Delete</button>\r\n          <button class=\"btn-outline-info\" v-on:click=\"editReservation(res.reservationID)\">Edit</button>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <div>{{deleteRes}}</div>\r\n    <div v-if=\"reservations.length==0\" style=\"color: crimson\"> No reservations for customer with ID: {{ form.customerID }}</div>\r\n    <div  style=\"font-weight: bold;font-size: large;margin-top: 10px\" v-if=\"showForm\"> Edit reservation with ID: {{resId}}</div>\r\n    <edit-reservation :parent-data=\"$data.editRes\" v-if=\"showForm\"></edit-reservation>\r\n  </b-container>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport EditReservation from \"./EditReservation\";\r\n\r\nexport default {\r\n  name: \"ManageReservation\",\r\n  components: {EditReservation},\r\n  methods: {\r\n    getReservation() {\r\n      this.showTable=true;\r\n      axios.get(`http://localhost:8000/getReservationsByCustomer/${this.form.customerID}`).then(\r\n          (res) => {\r\n            this.reservations = res.data;\r\n           }\r\n      )\r\n    },\r\n    editReservation(id) {\r\n      this.showForm = true;\r\n      this.resId =id;\r\n      axios.get(`http://localhost:8000/getReservation/${id}`).then(\r\n          (res) =>{\r\n            this.editRes = res.data;\r\n          }\r\n      )\r\n    } ,\r\n    deleteReservation(id) {\r\n      this.showForm = false;\r\n      axios.delete(`http://localhost:8000/deleteReservation/${id}`).then(\r\n          (res) => {\r\n            this.deleteRes = res.data;\r\n          }\r\n      )\r\n      this.getReservation();\r\n    },\r\n    getAll() {\r\n    }\r\n  },\r\n    data() {\r\n      return {\r\n        form: {\r\n          customerID: null\r\n        },\r\n        deleteRes: null,\r\n        reservations: [{\r\n          reservationID: null,\r\n          price: null,\r\n          date: null,\r\n          duration: null,\r\n          customer: {\r\n            customerId: null,\r\n            firstName: null,\r\n            lastName: null,\r\n            idCard: null\r\n          },\r\n          room: {\r\n            roomID: null,\r\n            available: true,\r\n            type: null\r\n          }\r\n        }\r\n        ],\r\n        resId:null,\r\n        editRes: null,\r\n        showForm: false,\r\n        showTable: false,\r\n      };\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-weight: bold;\r\n  font-size: xx-large;\r\n  color: #2c3e50;\r\n}\r\n\r\ntable, th, td {\r\n  border: 1px solid black;\r\n  border-collapse: collapse;\r\n}\r\n</style>\r\n"]}]}