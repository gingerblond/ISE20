{"remainingRequest":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\src\\components\\RoomAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\src\\components\\RoomAdmin.vue","mtime":1610404828921},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610313755472},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1610313727092},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610313755472},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1610313859415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlJvb21BZG1pbiIsDQogIG1ldGhvZHM6IHsNCiAgICBnZXRSb29tcygpIHsNCiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2dldEF2YWlsYWJsZVJvb21zJykudGhlbigNCiAgICAgICAgICAocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLnNob3dUYWJsZSA9IHRydWU7DQogICAgICAgICAgICB0aGlzLnJvb21zTGlzdCA9IHJlcy5kYXRhOw0KICAgICAgICAgIH0NCiAgICAgICkNCiAgICB9LA0KICAgIGRlbGV0ZVJvb20oaWQpIHsNCiAgICAgIGF4aW9zLmRlbGV0ZShgaHR0cDovL2xvY2FsaG9zdDo4MDAwL2RlbGV0ZVJvb20vJHtpZH1gKS50aGVuKA0KICAgICAgICAgIChyZXMpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2hvd0RlbGV0ZSA9IHRydWU7DQogICAgICAgICAgICB0aGlzLmRlbFJvb21Nc2cgPSByZXMuZGF0YTsNCiAgICAgICAgICB9DQogICAgICApDQogICAgfSwNCiAgICBvbkNoYW5nZSgpIHsNCiAgICAgIHRoaXMuZm9ybS50eXBlID0gdGhpcy5zZWxlY3RlZDsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybS50eXBlKTsNCiAgICB9LA0KICAgIGVkaXRSb29tKGlkKXsNCiAgICAgIHRoaXMuZm9ybS5yb29tSUQgPSBpZDsNCiAgICAgIHRoaXMuc2hvd0VkaXQgPSB0cnVlOw0KICAgIH0sDQogICAgc3VibWl0Rm9ybSgpew0KICAgICAgYXhpb3MucHV0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvdXBkYXRlUm9vbSIsdGhpcy5mb3JtKS50aGVuKA0KICAgICAgICAgIChyZXMpID0+IHsNCiAgICAgICAgICAgIHRoaXMucm9vbUlkID0gcmVzLmRhdGEucm9vbUlEOw0KICAgICAgICAgICAgdGhpcy5zdWJtaXRTdWNjZXNzID0gdHJ1ZTsNCiAgICAgICAgICB9DQogICAgICApDQogICAgfQ0KDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZvcm06IHsNCiAgICAgICAgcm9vbUlEOiBudWxsLA0KICAgICAgICB0eXBlOiBudWxsLA0KICAgICAgICBhdmFpbGFibGU6IG51bGwsDQogICAgICB9LA0KICAgICAgcm9vbXNMaXN0OiBbDQogICAgICAgIHsNCiAgICAgICAgICByb29tSUQ6IG51bGwsDQogICAgICAgICAgdHlwZTogbnVsbCwNCiAgICAgICAgICBhdmFpbGFibGU6IG51bGwNCiAgICAgICAgfQ0KICAgICAgXSwNCiAgICAgIHNlbGVjdGVkOiBudWxsLA0KICAgICAgb3B0aW9uczogW3t0ZXh0OiAnQ2hvb3NlIHJvb20gdHlwZScsIHZhbHVlOiBudWxsfSwgew0KICAgICAgICB0ZXh0OiAnU2luZ2xlIHJvb20nLA0KICAgICAgICB2YWx1ZTogJ1NJTkdMRV9ST09NJw0KICAgICAgfSwge3RleHQ6ICdEb3VibGUgcm9vbScsIHZhbHVlOiAnRE9VQkxFX1JPT00nfSwNCiAgICAgICAge3RleHQ6ICdBcGFydG1lbnQnLCB2YWx1ZTogJ0FQQVJUTUVOVCd9LCB7dGV4dDogJ0hvbmV5bW9vbiBTd2VldCcsIHZhbHVlOiAnSE9ORVlNT09OX1NXRUVUJ31dLA0KICAgICAgc2hvd1RhYmxlOiBmYWxzZSwNCiAgICAgIHNob3dEZWxldGU6IGZhbHNlLA0KICAgICAgc2hvd0VkaXQ6IGZhbHNlLA0KICAgICAgZGVsUm9vbU1zZzogbnVsbCwNCiAgICAgIHJvb21JZDogbnVsbCwNCiAgICAgIHN1Ym1pdFN1Y2Nlc3M6ZmFsc2UNCiAgICB9Ow0KICB9DQp9DQo="},{"version":3,"sources":["RoomAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RoomAdmin.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <b-container fluid=\"sm\" style=\"width:1000px\">\r\n\r\n    <h1> Room Administration</h1>\r\n\r\n    <div class=\"row no-gutter\">\r\n      <div class=\"col-md-8 col-lg-6 \">\r\n        <b-button class=\"btn btn-info\" style=\"width:300px; margin-top: 20px\" v-on:click=\"getRooms\"> Get available\r\n          rooms\r\n        </b-button>\r\n        <table v-if=\"roomsList.length>0 && showTable\" style=\"margin-top: 40px;\">\r\n          <tr>\r\n            <th> Room ID</th>\r\n            <th> Room Type</th>\r\n            <th> Is available?</th>\r\n            <th> Manage Rooms</th>\r\n          </tr>\r\n          <tr v-for=\"room in roomsList\" :key=\"room.type\">\r\n            <td> {{ room.roomID }}</td>\r\n            <td> {{ room.type }}</td>\r\n            <td> {{ room.available }}</td>\r\n            <td>\r\n              <button class=\"btn-outline-info\" v-on:click=\"deleteRoom(room.roomID)\">Delete</button>\r\n              <button class=\"btn-outline-info\" v-on:click=\"editRoom(room.roomID)\">Edit</button>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n\r\n        <div v-if=\"roomsList.length==0\" style=\"color: crimson\"> No available rooms right now! Please, try later !</div>\r\n      </div>\r\n      <div class=\"col-md-8 col-lg-6\">\r\n        <button class=\"btn btn-outline-info\" v-on:click=\"$router.push('login')\"  type=\"button\" style=\"width:300px; margin-top: 20px\" > Go back to admin tools\r\n        </button>\r\n        <b-alert variant=\"success\" show v-if=\"showDelete\" style=\"margin-top: 95px\"><strong>{{ delRoomMsg }}</strong>\r\n        </b-alert>\r\n        <div style=\"margin-top: 40px;\" v-if=\"showEdit\">\r\n          <h2> Please edit room with ID {{this.form.roomID}}:</h2>\r\n          <b-form v-on:submit.prevent=\"submitForm\">\r\n            <div class=\"form-group\" style=\"margin-top: 25px\">\r\n              <label for=\"roomType\">Room Type</label>\r\n              <b-form-select id=\"roomType\" v-model=\"selected\" v-on:change=\"onChange()\"\r\n                             :options=\"options\">\r\n              </b-form-select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"availability\">Availability:</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"availability\" placeholder=\"Please choose true(if you want to set room on available and false(if you want to set room on unavailable )\"\r\n                     v-model=\"form.available\" required>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <button class=\"btn btn-info\" style=\"margin-top: 10px\">Submit changes</button>\r\n            </div>\r\n\r\n            <b-alert variant=\"success\" show v-if=\"submitSuccess\"> You updated successfully room with ID: <strong>{{roomId}}</strong>\r\n            </b-alert>\r\n          </b-form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: \"RoomAdmin\",\r\n  methods: {\r\n    getRooms() {\r\n      axios.get('http://localhost:8000/getAvailableRooms').then(\r\n          (res) => {\r\n            this.showTable = true;\r\n            this.roomsList = res.data;\r\n          }\r\n      )\r\n    },\r\n    deleteRoom(id) {\r\n      axios.delete(`http://localhost:8000/deleteRoom/${id}`).then(\r\n          (res) => {\r\n            this.showDelete = true;\r\n            this.delRoomMsg = res.data;\r\n          }\r\n      )\r\n    },\r\n    onChange() {\r\n      this.form.type = this.selected;\r\n      console.log(this.form.type);\r\n    },\r\n    editRoom(id){\r\n      this.form.roomID = id;\r\n      this.showEdit = true;\r\n    },\r\n    submitForm(){\r\n      axios.put(\"http://localhost:8000/updateRoom\",this.form).then(\r\n          (res) => {\r\n            this.roomId = res.data.roomID;\r\n            this.submitSuccess = true;\r\n          }\r\n      )\r\n    }\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        roomID: null,\r\n        type: null,\r\n        available: null,\r\n      },\r\n      roomsList: [\r\n        {\r\n          roomID: null,\r\n          type: null,\r\n          available: null\r\n        }\r\n      ],\r\n      selected: null,\r\n      options: [{text: 'Choose room type', value: null}, {\r\n        text: 'Single room',\r\n        value: 'SINGLE_ROOM'\r\n      }, {text: 'Double room', value: 'DOUBLE_ROOM'},\r\n        {text: 'Apartment', value: 'APARTMENT'}, {text: 'Honeymoon Sweet', value: 'HONEYMOON_SWEET'}],\r\n      showTable: false,\r\n      showDelete: false,\r\n      showEdit: false,\r\n      delRoomMsg: null,\r\n      roomId: null,\r\n      submitSuccess:false\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-weight: bold;\r\n  font-size: xx-large;\r\n  color: #2c3e50;\r\n}\r\nh2 {\r\n  font-weight: bold;\r\n  font-size: large;\r\n  color: #2c3e50;\r\n}\r\n\r\ntable, th, td {\r\n  border: 1px solid black;\r\n  border-collapse: collapse;\r\n}\r\n</style>\r\n"]}]}