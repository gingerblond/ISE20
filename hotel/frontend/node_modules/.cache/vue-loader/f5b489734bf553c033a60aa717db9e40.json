{"remainingRequest":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\src\\components\\ManageReservation.vue?vue&type=style&index=0&id=d58edcb2&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\src\\components\\ManageReservation.vue","mtime":1610384878136},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":1610313779836},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1610313859422},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":1610313824175},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1610313755472},{"path":"C:\\Users\\Elly\\Desktop\\ISE_10.01.2020\\ISE20\\hotel\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1610313859415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KaDEgew0KICBmb250LXdlaWdodDogYm9sZDsNCiAgZm9udC1zaXplOiB4eC1sYXJnZTsNCiAgY29sb3I6ICMyYzNlNTA7DQp9DQoNCnRhYmxlLCB0aCwgdGQgew0KICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsNCiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsNCn0NCg=="},{"version":3,"sources":["ManageReservation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ManageReservation.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <b-container fluid=\"sm\">\r\n    <h1> Manage reservations</h1>\r\n    <b-form id=\"app\" v-on:submit.prevent=\"getReservation\">\r\n      <div class=\"form-group\">\r\n        <label for=\"reservationID\">Customer ID:</label>\r\n        <input type=\"text\" class=\"form-control\" id=\"reservationID\" placeholder=\"Please provide your CustomerID\"\r\n               v-model=\"form.customerID\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <button class=\"btn btn-info\" style=\"margin-top: 10px\">View Reservations List</button>\r\n      </div>\r\n    </b-form>\r\n    <table v-if=\"reservations.length>0 && showTable\">\r\n      <tr>\r\n        <th> Reservation ID</th>\r\n        <th> Start Date</th>\r\n        <th> Duration</th>\r\n        <th> Total Price</th>\r\n        <th> Customer Name</th>\r\n        <th> Room Type</th>\r\n        <th> Manage Reservation</th>\r\n      </tr>\r\n      <tr v-for=\"res in reservations\" :key=\"res.date\">\r\n        <td> {{ res.reservationID }}</td>\r\n        <td> {{ res.date }}</td>\r\n        <td> {{ res.duration }}</td>\r\n        <td> ${{ res.price }}</td>\r\n        <td> {{ res.customer.firstName }} {{ res.customer.lastName }}</td>\r\n        <td> {{ res.room.type }}</td>\r\n        <td>\r\n          <button class=\"btn-outline-info\" v-on:click=\"deleteReservation(res.reservationID)\">Delete</button>\r\n          <button class=\"btn-outline-info\" v-on:click=\"editReservation(res.reservationID)\">Edit</button>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <div>{{deleteRes}}</div>\r\n    <div v-if=\"reservations.length==0\" style=\"color: crimson\"> No reservations for customer with ID: {{ form.customerID }}</div>\r\n    <div  style=\"font-weight: bold;font-size: large;margin-top: 10px\" v-if=\"showForm\"> Edit reservation with ID: {{resId}}</div>\r\n    <edit-reservation :parent-data=\"$data.editRes\" v-if=\"showForm\"></edit-reservation>\r\n  </b-container>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport EditReservation from \"./EditReservation\";\r\n\r\nexport default {\r\n  name: \"ManageReservation\",\r\n  components: {EditReservation},\r\n  methods: {\r\n    getReservation() {\r\n      this.showTable=true;\r\n      axios.get(`http://localhost:8000/getReservationsByCustomer/${this.form.customerID}`).then(\r\n          (res) => {\r\n            this.reservations = res.data;\r\n           }\r\n      )\r\n    },\r\n    editReservation(id) {\r\n      this.showForm = true;\r\n      this.resId =id;\r\n      axios.get(`http://localhost:8000/getReservation/${id}`).then(\r\n          (res) =>{\r\n            this.editRes = res.data;\r\n          }\r\n      )\r\n    } ,\r\n    deleteReservation(id) {\r\n      this.showForm = false;\r\n      axios.delete(`http://localhost:8000/deleteReservation/${id}`).then(\r\n          (res) => {\r\n            this.deleteRes = res.data;\r\n          }\r\n      )\r\n      this.getReservation();\r\n    },\r\n    getAll() {\r\n    }\r\n  },\r\n    data() {\r\n      return {\r\n        form: {\r\n          customerID: null\r\n        },\r\n        deleteRes: null,\r\n        reservations: [{\r\n          reservationID: null,\r\n          price: null,\r\n          date: null,\r\n          duration: null,\r\n          customer: {\r\n            customerId: null,\r\n            firstName: null,\r\n            lastName: null,\r\n            idCard: null\r\n          },\r\n          room: {\r\n            roomID: null,\r\n            available: true,\r\n            type: null\r\n          }\r\n        }\r\n        ],\r\n        resId:null,\r\n        editRes: null,\r\n        showForm: false,\r\n        showTable: false,\r\n      };\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-weight: bold;\r\n  font-size: xx-large;\r\n  color: #2c3e50;\r\n}\r\n\r\ntable, th, td {\r\n  border: 1px solid black;\r\n  border-collapse: collapse;\r\n}\r\n</style>\r\n"]}]}